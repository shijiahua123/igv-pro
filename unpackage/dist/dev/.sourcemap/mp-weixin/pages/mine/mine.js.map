{"version":3,"file":"mine.js","sources":["pages/mine/mine.vue","D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9taW5lLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 顶部用户信息 -->\r\n     <view class=\"user-info-wrap\">\r\n       <view class=\"user-info\">\r\n         <view class=\"avatar-wrap\">\r\n           <view class=\"avatar\"></view>\r\n         </view>\r\n         <view class=\"user-info-text\">\r\n           <view class=\"nickname-wrap\">\r\n             <text class=\"nickname\">昵称</text>\r\n             <u-icon name=\"edit-pen\" color=\"#fff\" size=\"20\"></u-icon>\r\n           </view>\r\n           <view class=\"phone-wrap\">\r\n             <text class=\"phone\">手机号：188 6666 9999</text>\r\n           </view>\r\n         </view>\r\n       </view>\r\n   \r\n       <!-- 资产统计卡片 -->\r\n       <view class=\"assets-card\">\r\n         <view class=\"card-header\">\r\n           <text class=\"title\">我管理的资产</text>\r\n           <view class=\"update-time\">\r\n             <u-icon name=\"reload\" color=\"#999\" size=\"18\"></u-icon>\r\n             <text class=\"time\">数据更新于2025-05-10 15:30</text>\r\n           </view>\r\n         </view>\r\n         <view class=\"card-line\"></view>\r\n         <view class=\"total-assets\">\r\n           <view class=\"total-row\">\r\n             <view class=\"label\">全部设备(台):</view>\r\n             <view class=\"number\">800</view>\r\n           </view>\r\n           <view class=\"detail-row\">\r\n             <view class=\"detail-item\">\r\n               <view class=\"value\">800</view>\r\n               <view class=\"label\">已绑设备</view>\r\n             </view>\r\n             <u-line color=\"#ccc\" direction=\"vertical\" length=\"80rpx\" margin=\"0 20rpx\" hair-line=\"false\"></u-line>\r\n             <view class=\"detail-item\">\r\n               <view class=\"value\">0</view>\r\n               <view class=\"label\">未分配设备</view>\r\n             </view>\r\n           </view>\r\n         </view>\r\n   \r\n         <!-- 农场列表滑动区域 -->\r\n         <view class=\"assets-list-container\">\r\n           <view class=\"arrow-btn left\" @tap=\"handleScrollLeft\">\r\n             <u-icon name=\"arrow-left\" color=\"#666\" size=\"20\"></u-icon>\r\n           </view>\r\n           <scroll-view \r\n             class=\"assets-list\" \r\n             scroll-x=\"true\" \r\n             show-scrollbar=\"false\"\r\n             :scroll-left=\"scrollLeft\"\r\n             @scroll=\"handleScroll\"\r\n             :scroll-with-animation=\"true\"\r\n             ref=\"farmListScroll\"\r\n             :scroll-anchoring=\"false\"\r\n             @touchstart.prevent\r\n             @touchmove.prevent\r\n           >\r\n             <view class=\"list-wrapper\">\r\n               <view class=\"list-item\">\r\n                 <text class=\"name\">岳普湖农场地块</text>\r\n                 <text class=\"value\">200</text>\r\n               </view>\r\n               <view class=\"list-item\">\r\n                 <text class=\"name\">农场002</text>\r\n                 <text class=\"value\">600</text>\r\n               </view>\r\n               <view class=\"list-item\">\r\n                 <text class=\"name\">农场003</text>\r\n                 <text class=\"value\">300</text>\r\n               </view>\r\n               <view class=\"list-item\">\r\n                 <text class=\"name\">农场004</text>\r\n                 <text class=\"value\">300</text>\r\n               </view>\r\n               <view class=\"list-item\">\r\n                 <text class=\"name\">农场005</text>\r\n                 <text class=\"value\">300</text>\r\n               </view>\r\n               <view class=\"list-item\">\r\n                 <text class=\"name\">农场006</text>\r\n                 <text class=\"value\">300</text>\r\n               </view>\r\n             </view>\r\n           </scroll-view>\r\n           <view class=\"arrow-btn right\" @tap=\"handleScrollRight\">\r\n             <u-icon name=\"arrow-right\" color=\"#666\" size=\"20\"></u-icon>\r\n           </view>\r\n         </view>\r\n       </view>\r\n     </view>\r\n\r\n\t\t<!-- 功能菜单 -->\r\n\t\t<view class=\"menu-grid\">\r\n\t\t\t<view class=\"menu-item\">\r\n\t\t\t\t<u-image width=\"100rpx\" height=\"100rpx\" :custom-style=\"{ backgroundColor: 'transparent !important' }\" src=\"/static/images/user-info.png\"></u-image>\r\n\t\t\t\t<text class=\"label\">团队成员</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\" @tap=\"goFarmManage\">\r\n\t\t\t\t<u-image width=\"100rpx\" height=\"100rpx\" :custom-style=\"{ backgroundColor: 'transparent !important' }\" src=\"/static/images/equip-manage.png\"></u-image>\r\n\t\t\t\t<text class=\"label\">农场管理</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\">\r\n\t\t\t\t<u-image width=\"100rpx\" height=\"100rpx\" :custom-style=\"{ backgroundColor: 'transparent !important' }\" src=\"/static/images/scan.png\"></u-image>\r\n\t\t\t\t<text class=\"label\">扫一扫</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\">\r\n\t\t\t\t<u-image width=\"100rpx\" height=\"100rpx\" :custom-style=\"{ backgroundColor: 'transparent !important' }\" src=\"/static/images/technical-service.png\"></u-image>\r\n\t\t\t\t<text class=\"label\">技术服务</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\">\r\n\t\t\t\t<u-image width=\"100rpx\" height=\"100rpx\" :custom-style=\"{ backgroundColor: 'transparent !important' }\" src=\"/static/images/cooperation-win.png\"></u-image>\r\n\t\t\t\t<text class=\"label\">合作共赢</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menu-item\">\r\n\t\t\t\t<u-image width=\"100rpx\" height=\"100rpx\" :custom-style=\"{ backgroundColor: 'transparent !important' }\" src=\"/static/images/agricultural-mall.png\"></u-image>\r\n\t\t\t\t<text class=\"label\">农资商城</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nconst goFarmManage = () => {\r\n\tuni.navigateTo({\r\n\t\turl: '/pages/farmManage/index',\r\n\t\tfail: (err) => {\r\n\t\t\tconsole.error('页面跳转失败：', err)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '页面跳转失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n}\r\n\r\n// 滚动相关\r\nconst scrollLeft = ref(0)\r\nconst scrollWidth = ref(0)\r\nconst containerWidth = ref(0)\r\nconst SCROLL_STEP = 200 // 每次滚动的距离\r\nconst farmListScroll = ref(null)\r\n\r\n// 初始化获取滚动区域的宽度信息\r\nonMounted(() => {\r\n  setTimeout(() => {\r\n    const query = uni.createSelectorQuery()\r\n    query.select('.list-wrapper').boundingClientRect(data => {\r\n      if (data) {\r\n        scrollWidth.value = data.width\r\n      }\r\n    }).exec()\r\n    \r\n    query.select('.assets-list').boundingClientRect(data => {\r\n      if (data) {\r\n        containerWidth.value = data.width\r\n      }\r\n    }).exec()\r\n  }, 100)\r\n})\r\n\r\n// 处理向左滚动\r\nconst handleScrollLeft = () => {\r\n  const newScrollLeft = Math.max(0, scrollLeft.value - SCROLL_STEP)\r\n  scrollLeft.value = newScrollLeft\r\n}\r\n\r\n// 处理向右滚动\r\nconst handleScrollRight = () => {\r\n  const maxScroll = Math.max(0, scrollWidth.value - containerWidth.value)\r\n  const newScrollLeft = Math.min(maxScroll, scrollLeft.value + SCROLL_STEP)\r\n  scrollLeft.value = newScrollLeft\r\n}\r\n\r\n// 监听滚动事件\r\nconst handleScroll = (e) => {\r\n  scrollLeft.value = e.detail.scrollLeft\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding-bottom: 120rpx; // 为底部导航留出空间\r\n}\r\n\r\n// 用户信息区域\r\n.user-info-wrap {\r\n  background: linear-gradient(180deg, rgba(15,64,245,1) 0%,rgba(255,255,255,0) 100%);\r\n}\r\n\r\n.user-info {\r\n\tposition: relative;\r\n  display: flex;\r\n  align-items: center;\r\n\t// background-color: #2b5ee3;\r\n\tpadding: 40rpx 30rpx 20rpx 30rpx;\r\n\tcolor: #fff;\r\n  \r\n\t.avatar-wrap {\r\n    position: relative;\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n    margin-right: 20rpx;\r\n\r\n\t\t.avatar {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tbackground-color: #ccc;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\r\n\t\t.edit-icon {\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\t\twidth: 40rpx;\r\n\t\t\theight: 40rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\t}\r\n\r\n  .user-info-text {\r\n    .nickname-wrap {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n\r\n\t.nickname {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.phone {\r\n\t\tfont-size: 28rpx;\r\n\t\topacity: 0.8;\r\n\t}\r\n}\r\n\r\n// 资产统计卡片\r\n.assets-card {\r\n  margin: 0 30rpx;\r\n  background: linear-gradient(180deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);\r\n  border-radius: 24rpx;\r\n  padding: 30rpx;\r\n  backdrop-filter: blur(10px);\r\n  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.05);\r\n\r\n  .card-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 20rpx;\r\n\r\n    .title {\r\n      font-size: 28rpx;\r\n      color: #333;\r\n    }\r\n\r\n    .update-time {\r\n      display: flex;\r\n      align-items: center;\r\n      font-size: 24rpx;\r\n      color: #999;\r\n\r\n      .icon {\r\n        margin-right: 6rpx;\r\n        font-size: 24rpx;\r\n      }\r\n    }\r\n  }\r\n\r\n  .card-line {\r\n    width: 100%;\r\n    height: 2rpx;\r\n    background-color: #ccc;\r\n  }\r\n\r\n  .total-assets {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    background: linear-gradient(180deg, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0.3) 100%);\r\n    border-radius: 16rpx;\r\n    padding: 20rpx;\r\n\r\n    .total-row {\r\n      // display: flex;\r\n      // align-items: baseline;\r\n      // margin-bottom: 30rpx;\r\n\r\n      .label {\r\n        font-size: 28rpx;\r\n        color: #666;\r\n        margin-right: 20rpx;\r\n        margin-bottom: 20rpx;\r\n      }\r\n\r\n      .number {\r\n        font-size: 48rpx;\r\n        font-weight: bold;\r\n        color: #0F40F5;\r\n        line-height: 1;\r\n      }\r\n    }\r\n\r\n    .detail-row {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      // gap: 60rpx;\r\n\r\n      .detail-item {\r\n        text-align: left;\r\n        .value {\r\n          font-size: 32rpx;\r\n          color: #333;\r\n          font-weight: 500;\r\n          margin-bottom: 8rpx;\r\n        }\r\n\r\n        .label {\r\n          font-size: 24rpx;\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .assets-list-container {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    background: #f6f6f6;\r\n    padding: 10rpx;\r\n\r\n    .arrow-btn {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 40rpx;\r\n      height: 40rpx;\r\n      // background: rgba(255, 255, 255, 0.8);\r\n      // border-radius: 50%;\r\n      z-index: 1;\r\n      \r\n      &.left {\r\n        margin-right: -20rpx;\r\n      }\r\n      \r\n      &.right {\r\n        margin-left: -20rpx;\r\n      }\r\n    }\r\n\r\n    .assets-list {\r\n      flex: 1;\r\n      width: 0; // 防止溢出\r\n      white-space: nowrap;\r\n      padding: 0 20rpx;\r\n      \r\n      // 隐藏滚动条\r\n      ::-webkit-scrollbar {\r\n        display: none;\r\n      }\r\n      \r\n      .list-wrapper {\r\n        display: inline-flex;\r\n        // padding: 0 20rpx;\r\n      }\r\n\r\n      .list-item {\r\n        display: inline-flex;\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n        padding: 20rpx;\r\n        // margin-right: 20rpx;\r\n        // background: rgba(255, 255, 255, 0.6);\r\n        border-radius: 16rpx;\r\n        width: 120rpx;\r\n\r\n        &:last-child {\r\n          margin-right: 0;\r\n        }\r\n\r\n        .name {\r\n          font-size: 24rpx;\r\n          color: #666;\r\n          margin-bottom: 10rpx;\r\n          width: 100%;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n        }\r\n\r\n        .value {\r\n          font-size: 32rpx;\r\n          color: #333;\r\n          font-weight: 500;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 功能菜单网格\r\n.menu-grid {\r\n\tmargin: 20rpx;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 16rpx;\r\n\tpadding: 30rpx;\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(4, 1fr);\r\n\tgap: 30rpx;\r\n\r\n\t.menu-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\t\r\n\t\t.label {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// 底部导航栏\r\n.tab-bar {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\theight: 100rpx;\r\n\tbackground-color: #fff;\r\n\tdisplay: flex;\r\n\tpadding-bottom: env(safe-area-inset-bottom);\r\n\tbox-shadow: 0 -2rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\r\n\t.tab-item {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 10rpx 0;\r\n\r\n\t\t.icon {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tmargin-bottom: 6rpx;\r\n\t\t}\r\n\r\n\t\t.label {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #666;\r\n\t\t}\r\n\r\n\t\t&.active {\r\n\t\t\t.label {\r\n\t\t\t\tcolor: #2b5ee3;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style> ","import MiniProgramPage from 'F:/igv-pro/pages/mine/mine.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","ref","onMounted","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;AAqJA,MAAM,cAAc;;;;AAjBpB,UAAM,eAAe,MAAM;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,QACL,MAAM,CAAC,QAAQ;AACdA,wBAAAA,MAAA,MAAA,SAAA,8BAAc,WAAW,GAAG;AAC5BA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACV,CAAI;AAAA,QACD;AAAA,MACH,CAAE;AAAA,IACF;AAGA,UAAM,aAAaC,cAAG,IAAC,CAAC;AACxB,UAAM,cAAcA,cAAG,IAAC,CAAC;AACzB,UAAM,iBAAiBA,cAAG,IAAC,CAAC;AAELA,kBAAG,IAAC,IAAI;AAG/BC,kBAAAA,UAAU,MAAM;AACd,iBAAW,MAAM;AACf,cAAM,QAAQF,cAAG,MAAC,oBAAqB;AACvC,cAAM,OAAO,eAAe,EAAE,mBAAmB,UAAQ;AACvD,cAAI,MAAM;AACR,wBAAY,QAAQ,KAAK;AAAA,UAC1B;AAAA,QACF,CAAA,EAAE,KAAM;AAET,cAAM,OAAO,cAAc,EAAE,mBAAmB,UAAQ;AACtD,cAAI,MAAM;AACR,2BAAe,QAAQ,KAAK;AAAA,UAC7B;AAAA,QACF,CAAA,EAAE,KAAM;AAAA,MACV,GAAE,GAAG;AAAA,IACR,CAAC;AAGD,UAAM,mBAAmB,MAAM;AAC7B,YAAM,gBAAgB,KAAK,IAAI,GAAG,WAAW,QAAQ,WAAW;AAChE,iBAAW,QAAQ;AAAA,IACrB;AAGA,UAAM,oBAAoB,MAAM;AAC9B,YAAM,YAAY,KAAK,IAAI,GAAG,YAAY,QAAQ,eAAe,KAAK;AACtE,YAAM,gBAAgB,KAAK,IAAI,WAAW,WAAW,QAAQ,WAAW;AACxE,iBAAW,QAAQ;AAAA,IACrB;AAGA,UAAM,eAAe,CAAC,MAAM;AAC1B,iBAAW,QAAQ,EAAE,OAAO;AAAA,IAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzLA,GAAG,WAAWG,SAAe;"}