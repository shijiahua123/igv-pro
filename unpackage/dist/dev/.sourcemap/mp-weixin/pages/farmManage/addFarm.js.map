{"version":3,"file":"addFarm.js","sources":["pages/farmManage/addFarm.vue","D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZmFybU1hbmFnZS9hZGRGYXJtLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"add-farm\">\r\n\t\t<!-- 表单区域 -->\r\n\t\t<view class=\"add-farm-form\">\r\n\t\t\t<!-- 农场名称 -->\r\n\t\t\t<u-form-item\r\n\t\t\t\tlabel=\"农场名称\"\r\n\t\t\t\trequired\r\n\t\t\t\t:borderBottom=\"true\"\r\n                class=\"add-farm-form-item\"\r\n\t\t\t>\r\n            <template #label>\r\n                <view class=\"add-farm-form-item-label\">\r\n                    <text class=\"add-farm-form-item-label-text\">农场名称</text>\r\n                    <text class=\"add-farm-form-item-label-mark\">（必填）</text>\r\n                </view>\r\n            </template>\r\n            <view class=\"add-farm-form-item-content\">\r\n                <u-input\r\n                    v-model=\"formData.name\"\r\n                    input-align=\"right\"\r\n                    placeholder=\"请输入农场名称\"\r\n                    border=\"none\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template #suffix>\r\n\t\t\t\t\t\t<u-icon name=\"edit-pen\" size=\"20\"></u-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</u-input>\r\n            </view>\r\n\t\t\t</u-form-item>\r\n\r\n\t\t\t<!-- 农场位置 -->\r\n\t\t\t<u-form-item\r\n\t\t\t\tlabel=\"农场位置\"\r\n\t\t\t\t:borderBottom=\"true\"\r\n                class=\"add-farm-form-item\"\r\n\t\t\t>\r\n            <template #label>\r\n                <view class=\"add-farm-form-item-label\">\r\n                    <text class=\"add-farm-form-item-label-text\">农场位置</text>\r\n                    <text class=\"add-farm-form-item-label-mark\">（必填）</text>\r\n                </view>\r\n            </template>\r\n            <view class=\"add-farm-form-item-content\">\r\n                <view class=\"add-form-custom-content\" @click=\"handleSelectLocation\">\r\n                    <text class=\"add-form-custom-content-text\">绘制农场区域</text>\r\n                    <u-icon name=\"arrow-right\" size=\"20\"></u-icon>\r\n                </view>\r\n            </view>\r\n\t\t\t\t\r\n\t\t\t</u-form-item>\r\n\r\n\t\t\t<!-- 地块信息 -->\r\n            <u-form-item\r\n\t\t\t\tlabel=\"地块\"\r\n\t\t\t\t:borderBottom=\"true\"\r\n                class=\"add-farm-form-item\"\r\n\t\t\t>\r\n            <template #label>\r\n                <view class=\"add-farm-form-item-label\">\r\n                    <text class=\"add-farm-form-item-label-text\">地块</text>\r\n                    <text class=\"add-farm-form-item-label-mark\">（必填）</text>\r\n                </view>\r\n            </template>\r\n            <view class=\"add-farm-form-item-content\">\r\n                <view class=\"add-form-custom-content\">\r\n                    <text class=\"add-form-custom-content-text\">添加地块</text>\r\n                    <u-icon name=\"plus-circle\" size=\"20\"></u-icon>\r\n                </view>\r\n            </view>\r\n        </u-form-item>\r\n        <u-form-item>\r\n            <view class=\"block-desc\">农场内各理规划地块，提高灌溉效率和成本管理。</view>\r\n        </u-form-item>\r\n\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部按钮 -->\r\n\t\t<view class=\"bottom-buttons\">\r\n\t\t\t<u-button\r\n\t\t\t\ttext=\"取消\"\r\n\t\t\t\tplain\r\n\t\t\t\tshape=\"circle\"\r\n\t\t\t\t@click=\"handleCancel\"\r\n\t\t\t></u-button>\r\n\t\t\t<u-button\r\n\t\t\t\ttext=\"保存\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tshape=\"circle\"\r\n\t\t\t\t@click=\"handleSave\"\r\n\t\t\t></u-button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\n\r\n// 表单数据\r\nconst formData = reactive({\r\n\tname: '',\r\n\tlocation: '',\r\n\tblocks: [\r\n\t\t{ name: '泵房北001' },\r\n\t\t{ name: '地块0002' }\r\n\t]\r\n})\r\n\r\n// 选择位置\r\nconst handleSelectLocation = () => {\r\n\tuni.navigateTo({\r\n\t\turl: '/pages/farmManage/drawFarm'\r\n\t})\r\n}\r\n\r\n// 编辑地块\r\nconst handleEditBlock = (index) => {\r\n\tuni.showToast({\r\n\t\ttitle: '编辑地块功能开发中',\r\n\t\ticon: 'none'\r\n\t})\r\n}\r\n\r\n// 添加地块\r\nconst handleAddBlock = () => {\r\n\tformData.blocks.push({ name: '' })\r\n}\r\n\r\n// 取消\r\nconst handleCancel = () => {\r\n\tuni.navigateBack()\r\n}\r\n\r\n// 保存\r\nconst handleSave = () => {\r\n\tif (!formData.name.trim()) {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '请输入农场名称',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t\treturn\r\n\t}\r\n\r\n\tif (!formData.location.trim()) {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '请选择农场位置',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t\treturn\r\n\t}\r\n\r\n\t// TODO: 调用保存接口\r\n\tuni.showToast({\r\n\t\ttitle: '保存成功',\r\n\t\ticon: 'success',\r\n\t\tduration: 2000,\r\n\t\tsuccess: () => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t}, 2000)\r\n\t\t}\r\n\t})\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.add-farm {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding-bottom: calc(140rpx + env(safe-area-inset-bottom));\r\n\r\n\t.add-farm-form {\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 0 30rpx;\r\n        &-item {\r\n            &-label {\r\n                &-mark {\r\n                    color: #c5493e;\r\n                }\r\n            }\r\n            &-content {\r\n                flex: 1;\r\n                .add-form-custom-content {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: flex-end;\r\n                    &-text {\r\n                        padding-right: 10rpx;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\t}\r\n\r\n\t.farm-id {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.block-info {\r\n\t\tpadding: 30rpx 0 20rpx;\r\n\r\n\t\t.block-header {\r\n\t\t\tmargin-bottom: 12rpx;\r\n\t\t}\r\n\r\n\t\t.required-label {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&::before {\r\n\t\t\t\tcontent: '*';\r\n\t\t\t\tcolor: #ff0000;\r\n\t\t\t\tmargin-right: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.required-mark {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tmargin-left: 8rpx;\r\n\t\t}\r\n\r\n\t\t.block-desc {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t.block-list {\r\n\t\t.block-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 24rpx 0;\r\n\t\t\tborder-bottom: 2rpx solid #f5f5f5;\r\n\r\n\t\t\t.block-number {\r\n\t\t\t\twidth: 60rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t}\r\n\r\n\t\t\t.block-content {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.add-block {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 24rpx 0;\r\n\t\t\tcolor: #2979ff;\r\n\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t.u-icon {\r\n\t\t\t\tmargin-right: 12rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.bottom-buttons {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tpadding-bottom: calc(20rpx + env(safe-area-inset-bottom));\r\n\t\tbackground-color: #fff;\r\n\t\tdisplay: flex;\r\n\t\tgap: 20rpx;\r\n\r\n\t\t:deep(.u-button) {\r\n\t\t\tflex: 1;\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import MiniProgramPage from 'F:/igv-pro/pages/farmManage/addFarm.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","uni","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;AAmGA,UAAM,WAAWA,cAAAA,SAAS;AAAA,MACzB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ;AAAA,QACP,EAAE,MAAM,SAAU;AAAA,QAClB,EAAE,MAAM,SAAU;AAAA,MAClB;AAAA,IACF,CAAC;AAGD,UAAM,uBAAuB,MAAM;AAClCC,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACP,CAAE;AAAA,IACF;AAgBA,UAAM,eAAe,MAAM;AAC1BA,oBAAAA,MAAI,aAAc;AAAA,IACnB;AAGA,UAAM,aAAa,MAAM;AACxB,UAAI,CAAC,SAAS,KAAK,QAAQ;AAC1BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACT,CAAG;AACD;AAAA,MACA;AAED,UAAI,CAAC,SAAS,SAAS,QAAQ;AAC9BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACT,CAAG;AACD;AAAA,MACA;AAGDA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,QACV,SAAS,MAAM;AACd,qBAAW,MAAM;AAChBA,0BAAAA,MAAI,aAAc;AAAA,UAClB,GAAE,GAAI;AAAA,QACP;AAAA,MACH,CAAE;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjKA,GAAG,WAAWC,SAAe;"}